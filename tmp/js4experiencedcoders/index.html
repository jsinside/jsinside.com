<!DOCTYPE html>
<html>
<head>
	<title>JS for experienced developers</title>
	<base target=”_blank” />
	<meta charset='utf-8'/>
	<script src='slides.js'></script>
</head>

<body style='display: none'>
	<style>
	[data-markdown] em {
		color		: orange;
		font-style	: normal;
		font-weight	: bolder;
		
	}
	[data-markdown] h3 {
		font-size	: 180%;
	}
	</style>
	<section class='slides layout-regular template-default'>

<!-- ****************************************************************************
		Talk Introduction
********************************************************************************* -->
	<article data-markdown>
		
		# Javascript for Experienced Coders
		
		## but in another language
		
		Jerome Etienne
	</article>
	<article data-markdown>
		
		<img style="float:right" src='jetienne-avatar.jpg' />

		### Who am i

		* coder, speaker, trainer
		* trainer at [JSInside](http://jsinside.com)
		* Javascript, Node.js, WebGL and other HTML5 games stuff
		
		#### Learning Three.js
		* "WebGL for dummies" blog that i write.
		
		#### Contacts
		* [github](http://github.com/jeromeetienne) [twitter](http://twitter.com/jerome_etienne) [gplus](https://plus.google.com/102848659911729905069/posts)
	</article>


<!-- ****************************************************************************
		presentation
********************************************************************************* -->
	<article data-markdown>
		## So you know how to code ?
	</article>
	<article data-markdown>
		### yeah ? like what ?

		#### Which language do you code ?
		
		* python or ruby
		* what ? php ?
		* why not perl while you are at it ?
		* or even c/c++ ...
	</article>
	<article data-markdown>
		### Well this is all cool

		#### but you are here for one thing

		# Goal: To Learn *Javascript* !
	</article>
	<article data-markdown>
		### So Lets learn *javascript*!
		* Boom!...

		#### **Good News!!**
		* You are in the good room :)

		#### **Bad News ?**
		* This gonna be *painfull*...
	</article>
	<article data-markdown>
		## Not even scared. 
	</article>
	<article data-markdown>
		### Well let's see...		
		
		#### *Javascript* as a language...
		
		* is *not clean*
		* is *not usual*
		* is *not consistent*
		* is *not easy to learn :)*
	</article>
	<article data-markdown>
		### WTF.js - a javascript chamber of horror
		
		* [wtfjs.com](http://wtfjs.com/)
		* made by [@brianleroux](https://twitter.com/#!/brianleroux)
		#### Javascript is so horrible
		* people do entire site to laugth at it
	</article>
	<article data-markdown>
		### WTF.js featured samples
		
		#### "all your commas are belong to Array" - [read more](http://wtfjs.com/2011/02/11/all-your-commas-are-belong-to-Array)

		```
		new Array([],null,undefined,null) == ",,,"; // true
		```
		
		Yeah seriously 
	</article>
	<article data-markdown>
		### WTF.js featured samples
		
		#### "min less max" - [read more](http://wtfjs.com/2011/06/27/min-less-max)

		```
		Math.max();
		// -Infinity
		```

		```
		Math.min();
		// Infinity
		```
		
		```
		Math.min() < Math.max();
		// false
		```
		
		Why not...
	</article>
	<article data-markdown>
		### WTF.js featured samples
		
		#### "i am myself but also not myself" - [read more](http://wtfjs.com/2010/11/15/i-am-myself-but-also-not-myself)

		```
		var foo = [0];
		console.log(foo == !foo);
		// "true"
		console.log(foo == foo);
		// "true"
		```
		
		Javascript is quantic in a way...
		
		*true* **and** *false* at the same time like [Schrödinger's cat](http://en.wikipedia.org/wiki/Schr%C3%B6dinger's_cat)
	</article>
	<article data-markdown>
		## ok you got me, this is an horror :( 
	</article>
	<article data-markdown>
		## why should i learn it then ?
	</article>
	<article data-markdown>
		# Why Learning *Javascript*
	</article>
	<article data-markdown>
		### JS isnt all bad
		
		#### Speed
		* It is rather fast now
		* considering its a scripting language
		* mainly due to v8 arrival - it launched the race

		#### You get used to it
		* Step1: *know the "Good Parts"* - [read more](http://www.amazon.com/JavaScript-Good-Parts-Douglas-Crockford/dp/0596517742)
		* Step2: *to avoid the "Bad Parts"*
		* Step3: Then it is ok, so enjoy :)
	</article>
	<article data-markdown>
		### JS is everywhere
		
		#### in *every web browser*
		* It is the scripting language inside webpage
		
		#### Consequences
		* so all browsers fight to get the best vm
		* You need to know some of it to write web page.
		* so every webdev has to learn javascript
		* non-webdev still has to know some of it, as webpage is so everywhere
	</article>
	<article data-markdown>
		### JS is everywhere (continued)
		
		#### even *on server* now

		* was existing before but never took off
		  * e.g [rhino](http://www.mozilla.org/rhino/)
		
		#### Arrival of [node.js](http://nodejs.org)
		* based on v8
		* no multi-threading
		* all async for efficiency
		* demonstrated impressive performance
		  * in memory and cpu
	</article>
	<article data-markdown>
		### So why learning *Javascript*
		
		#### 1. It is everywhere
		* on all browsers
		* on server

		#### 2. It isn't that bad
		* You get used to the quircks
	</article>
	<article data-markdown>
		## ok i will try...
	</article>

	<article data-markdown>
		# Lets Learn *Javascript*
	</article>
<!-- *****************************************************************************
**		Variables							**
******************************************************************************* -->
	<article data-markdown>
		# Basics: *Variables*
	</article>
	<article data-markdown>
		### Declaration
		Plain declaration. set the variable to ```undefined```
		```
		var foo;
		```
		Declaration and assignment
		```
		var foo = 42;
		```
		Queue severals, like c
		```
		var foo = 42, bar;
		```
	</article>
	<article data-markdown>
		### types

		* *var* accepts any type of variable
		* javascript is weak typing
		
		```
		var a;
		a = "foobar";
		a = 99;
		```
		All is ok
	</article>
	<article data-markdown>
		### types number

		* All number are [float64](http://en.wikipedia.org/wiki/Double-precision_floating-point_format)
		  * significands precision 53-bits
		  * beyond this, integers go south
		
		#### So No Integer... Nowhere
		* Need more ? well do it yourself bit-by-bit
		* scary ? well some did it tho [link](https://github.com/silentmatt/javascript-biginteger)
		* twitter did with string when they ran out of IDs
	</article>

<!-- *****************************************************************************
**		Loop								**
******************************************************************************* -->
	<article data-markdown>
		# Basics: *Loops*
	</article>
	<article data-markdown>
		### Loop
		
		```
		for(var i = 0; i < 10; i++){
			console.log("i=", i);
		}
		```
		
		```
		var i = 10;
		while( i-- > 0 ){
			console.log("i=", i);
		}
		```
	</article>
	<article data-markdown>
		### iterate over property
		
		```
		for(var prop in obj){
			console.log("property: ", prop);
		}
		```
	</article>
<!-- *****************************************************************************
**		Functions							**
******************************************************************************* -->
	<article data-markdown>
		# Basics: *Functions*
	</article>
	<article data-markdown>
		### functions

		```
		function foo(){
			return "bar";
		}
		```
		may have a name or not. The above is called ```foo```.
		
		```
		function(){ return "bar"; }
		```
		the one is *anonymous*.
	</article>
	<article data-markdown>
		### return value
		
		returning a value
		
		```
		function foo(){
			var result = "bar";
			return result;
		}
		```
	</article>
	<article data-markdown>
		### No Return is OK
		
		```
		function foo(){
			console.log("bar");
		}
		```
		
		No return is the same as returning ```undefined```
		```
		function foo(){
			console.log("bar");
			return undefined;
		}
		```
		The same as the first code.
	</article>
<!-- *****************************************************************************
**		Class								**
******************************************************************************* -->
	<article data-markdown>
		# *Object Class*
	</article>
	<article data-markdown>
		### Meta
		
		* private by closure
		* no protected
		* if cant do private, declare in public with a _ suffix
		  * thus by convention, other parts of the code know they should not touch
	</article>
	<article data-markdown>
		### What we gonna see ?
		
		* class declaration
		* class instanciation
		* how to handle the access level
		  * aka public/protected/private
		* how to handle inheritance
	</article>
	<article data-markdown>
		### Various Alternatives
		
		#### Alternatives to do class in js
		* Method *added to .prototype*
		* Method *Using a function*
		* Method *Using a object literal*

		#### you can even mix them
		* We will focus on *added to .prototype*
		* It is the most scalable, imo
		* recommended by google - [link](http://google-styleguide.googlecode.com/svn/trunk/javascriptguide.xml#Method_definitions)
	</article>
<!-- *****************************************************************************
**		Class: Added to .prototype					**
******************************************************************************* -->
	<article data-markdown>
		## Ok... so let's get started
	</article>
	<article data-markdown>
		# Class with *Added to .prototype*
	</article>
	<article data-markdown>
		### First, Just a constructor
		
		#### Declaration
		```
		function aClass(aParam){
			console.log("aParam", aParam);
		}
		```
		#### Usage
		```
		var instance = new aClass("foobar");
		```
		
		Rather simple, hey ?
	</article>
	<article data-markdown>
		### Lets add some variables
		
		#### Declaration
		```
		function aClass(aParam){
			this._aPrivateVariable	= 99;
			// no protected... use the _ prefix ?
			this.aPublicVariable	= "red";
		}
		```
		#### Usage
		```
		var instance = new aClass("foobar");
		console.log(instance.aPublicVariable);
		// => "red"
		console.log(instance._aPrivateVariable);
		// => "99" works... but the _ prefix show you should not
		```
	</article>
	<article data-markdown>
		### Now adding some Function
		
		#### Declaration
		```
		function aClass(){}
		aClass.prototype._aPrivateFunction	= function(){
			return "OnlyForMe";
		}
		aClass.prototype.aPublicFunction	= function(){
			return "ForEverybodyToSee";
		}
		```
		#### Usage
		```
		var instance = new aClass();
		console.log(instance.aPublicFunction()); // => "ForEverybodyToSee"
		console.log(instance._aPrivateFunction());
		// => "OnlyForME" works... but the _ prefix show you should not
		```
	</article>
<!-- *****************************************************************************
**		Class: Example							**
******************************************************************************* -->
	<article data-markdown>
		## ok ok, lets do an example
	</article>
	<article data-markdown>
		### Lets create a Class
		
		#### Classes we gonna do
		* a class *cat*
		
		#### Method
		* .miaou(): display 'miaou, im hungry' if it is hungry
		  * display only 'miaou' otherwise
		* .eat(): make the cat eat
	</article>
	<article data-markdown>
		# Go head.... i wait
	</article>
	<article data-markdown>
		### Possible Solution
		
		#### Declaration
		```
		function Cat(aParam){
			this._hasEaten	= false;
		}
		Cat.prototype.eat	= function(){
			this._hasEaten	= true;
			console.log("thanks");
		}
		Cat.prototype.miaou	= function(){
			console.log("miaaou", this._hasEaten ? ", im hungry" : "");
		}
		```
	</article>
	<article data-markdown>
		### Possible Solution
		
		#### Usage
		```
		var cat = new Cat();
		cat.miaou();	// => "miaaou, im hungry"
		cat.eat();	// => "thanks"
		cat.miaou();	// => "miaaou"
		```
	</article>
<!-- *****************************************************************************
**		Class: inheritance						**
******************************************************************************* -->
	<article data-markdown>
		## Ok for the basic.. inheritance ?
	</article>
	<article data-markdown>
		### Inheritance of Classes
		
		#### Classes we gonna do
		* a class *cat*
		* a class *kitty* which inherits from *cat*
		* why ? because cats are cute ? :)
	</article>
	<article data-markdown>
		### Inheritance by the examples
		
		#### Classes we gonna do
		* a class *cat*
		* a class *kitty* which inherits from *cat*
		* why ? because cats are cute ? :)
		
		#### Show dont tell
	</article>
	<article data-markdown>
		### First the class *cat*
		
		```
		function Cat(){
		}
		// function to overload
		Cat.prototype.miaou	= function(){
			console.log("miiiiaaaoooo");
		}
		// function to inherit
		Cat.prototype.isACat	= function(){
			return true;
		}
		```
		
		```
		var cat = new Cat();
		cat.miaou();	// => "miiiiaaaoooo";
		cat.isACat();	// => true;
		```
	</article>
	<article data-markdown>
		### Second the class *kitty*
		
		```
		function Kitty(){
		}
		Kitty.prototype.miaou	= function(){
			console.log("cutter miiiiaaaoooo");
		}
		```
		
		```
		var kitty = new Kitty();
		kitty.miaou();	// => "cutter miiiiaaaoooo";
		```
		
		**WAIT**!! Where is the inheritance ?!?
		```
		kitty.isACat();	// => Error "no method 'isACat'";
		```
	</article>
	<article data-markdown>
		### how *kitty* inherits from *cat*
		
		#### To add just after Kitty contructor
		```
		Kitty.prototype = new Cat();
		Kitty.prototype.constructor = Kitty;
		```
		
		This is it. *All Done*		

		```
		var kitty = new Kitty();
		kitty.miaou();	// => "cutter miiiiaaaoooo";
		kitty.isACat();	// => true;
		```
		
		so **.isACat()* has been **inherited** !!!
	</article>
	<article data-markdown>
		## can i check that programatically ?
	</article>
	<article data-markdown>
		### Lets check the type
		
		* This is *important*
		
		#### For Sanity Check
		```
		console.assert(myParam instanceof myClass)
		```

		#### For Polymorphism
		* myParam may be a **myClass** or some other types 

		```
		if(myParam instanceof myClass){
			// do something...
		}else{
			// do other things...
		}
		```
	</article>
	<article data-markdown>
		### Lets check the type (continued)
		
		```
		var obj = new Cat();
		console.assert(obj instanceof Cat);	// => true
		console.assert(obj instanceof Kitty);	// => false
		```

		```
		var obj = new Kitty();
		console.assert(obj instanceof Cat);	// => true
		console.assert(obj instanceof Kitty);	// => true
		```
	</article>
	<article data-markdown>
		## What about destructors ?
	</article>
	<article data-markdown>
		### Destructor ?
		
		* no destructor in js
		* if you need one, do an explicit call
		
		#### Possibility
		* create a .destroy() function which act as destructor
		* Have the caller to call it when it no more use it
	</article>
	<article data-markdown>
		### Destructor ? (example)
		
		#### Declaration
		```
		function aClass(){
			this.timerId	= setTimeout(function(){
				console.log("timer expired");
			}, 3000);
		}
		aClass.prototype.destroy	= function(){
			clearTimeout(this.timerId)
		};
		```
		#### Usage
		```
		var instance = new aClass();
		// do something which last less than 3000ms
		instance.destroy();
		```
	</article>
	<article data-markdown>
		# Alternatives for Class
	</article>
	<article data-markdown>
		### Method: *Using a function*

		* **PRO:** short, atomic
		* **CON:** private by convention only
		* **CON:** non scalable for large class
		  * closure tends to become messy

		```
		function myClass(params){
			var myPrivate = 99;
			this.myPublicVar = "red";
			this.myPublicFunction = function() {
				return this.params + ' ' + myProvate + this.myPublicVar;
			};
		}
		```
	</article>
	<article data-markdown>
		### Method: *Using object literals*

		* **PRO:** short, clear
		* **CON:** no constructor
		* **CON:** private by convention only

		```
		var apple = {
			_myPrivate	: "macintosh",
			myPublicVar	: "red",
			myPublicFunction: function () {
				return this.params + ' ' + this._myPrivate + this.myPublicVar;
			}
		};
		```		
	</article>
<!-- *****************************************************************************
**		Console.* API							**
** good slide http://tbassetto.github.com/chrome-dev-tools-tips-and-tricks/	**
******************************************************************************* -->
	<article data-markdown>
		# Console.* API
	</article>
	<article data-markdown>
		### What is console.* API
		
		#### Facts
		* Started in [firebug](https://getfirebug.com/)
		* now a defacto standard in js
		* doc [here](http://getfirebug.com/wiki/index.php/Command_Line_API)

		#### Use
		* nice for debugging: console.assert()
		* for logging: console.error/warn/log()
		* for benching: console.profile()
	</article>
	<article data-markdown>
		### Console API: *logging*
		
		Log by severity levels
		
		```
		console.log("foobar");
		```
		
		For Warning

		```
		console.warn("foobar");
		```

		For Error
		
		```
		console.error("foobar");
		```
		
		*Try It* in the console. see .info/debug too
	</article>
	<article data-markdown>
		### Console API: *Logging* with console.dir()
		
		To inspect a complex object, you may need to inspect it
		
		```
		var obj = {
			foo	: "bar"
		};
		console.dir(obj);
		```

		*Try It* in the console
		
		```
		{ foo: 'bar' }
		```
		
		but interactive, so you can dig as deep as you want.
	</article>
	<article data-markdown>
		### Console API: *Benchmark* with console.time

		```	
		var sum = 0;
		console.time('foo');
		for( var i=0; i< 10000000; i++){
			sum	+= i;
		}
		console.timeEnd('foo');
		```

		*Try it*  in the console.

		```
		foo: 1518ms
		```
	</article>
	<article data-markdown>
		### Console API: *Benchmark* with console.profile
		
		```	
		var sum = 0;
		console.profile('foo');
		for( var i=0; i< 1000000; i++){
			sum	+= i;
		}
		console.profileEnd('foo');
		```

		*Try it*  in the console.
		
		* Be sure to Check **profile** tab
		* More details than console.time()
		  * garbage collection
		  * info splitted by functions
	</article>
	<article data-markdown>
		### Console API: *Debugging* with console.assert()
		
		#### Check your assertions are correct
		* typically for function parameters type checking
		
		```
		console.assert(options instanceof String);
		```
		
		*Warning*: just a display, don't stop excecution.
	</article>

<!-- *****************************************************************************
**		THE END								**
******************************************************************************* -->
	<article data-markdown>
		# That's all folks
		
		### Question ?
		
		Jerome Etienne
	</article>

	<script>
	// ==UserScript==
	// @name Use Markdown, sometimes, in your HTML.
	// @author Paul Irish <http://paulirish.com/>
	// @link http://git.io/data-markdown
	// @match *
	// ==/UserScript==
	
	
	// If you're not using this as a userscript just delete from this line up. It's cool, homey.
	
	(function markdownSlideToHtml(){
	  
		if (!window.Showdown){
			var scr		= document.createElement('script');
			scr.onload	= markdownSlideToHtml;
			scr.src		= 'https://raw.github.com/github/github-flavored-markdown/gh-pages/scripts/showdown.js';
			document.body.appendChild(scr);
			return;
		}
	
		[].forEach.call(document.querySelectorAll('[data-markdown]'), function fn(elem){
			// strip leading whitespace so it isn't evaluated as code
			//var text      = elem.textContent.replace(/\n\s*\n/g,'\n');
			// jerome- to have better support of html within markdown
			var text      = elem.innerHTML;
			//console.log("origin innerHTML", text.split('\n'));
			// remove all blanks lines
			//text		= text.replace(/\n\s*\n/g,'\n');
			//console.log("step text", text)
			// set indentation level so your markdown can be indented within your HTML
			var matches	= text.match(/^\n([ \t]*)/);
			var leadingws	= matches[1].length;
			//console.log("first line", matches)
			//console.log("leadingws", leadingws)
			var regex	= new RegExp('\\n[ \\t]{' + leadingws + '}','g');
			var md		= text.replace(regex,'\n');
			//console.log("pre md", md);
			html      = (new Showdown.converter()).makeHtml(md);
			//console.log("post html", html);
	
			// to support prettyprint
			html		= html.replace(/<code><br \/>/g,'<pre class="prettyprint">');
			html		= html.replace(/<br \/><\/code>/g,'</pre>');
			// unescape [><]
			html		= html.replace(/&amp;gt;/g,'>');
			html		= html.replace(/&amp;lt;/g,'<');
			//console.log("escaped html", html);
		  
			// here, have sum HTML
			elem.innerHTML = html;
		});
		// callback prettyprint to highlight code found in markdown
		prettyPrint();
	}());

//* http://jsclassroom.com
//* http://jscoaches.com
//* http://html5coaches.com
//* http://jsuni.com
//* http://javascriptuni.com
//
//prefix: js html5 javascript
//
//suffix: school classroom univesity academy class education 
//
//
//* https://github.com/hakimel/reveal.js/issues/15 reveal.js in markdown
//  * do the same for html5slide
//  * standalone, no compilation, no need to commit all to markdown
//* https://github.com/vinyll/html5-slides-markdown does well but not proper target
//  * nice on how to make slides in markdown tho
//
// http://tbassetto.github.com/chrome-dev-tools-tips-and-tricks/#8
	</script> 
</body>
</html>
